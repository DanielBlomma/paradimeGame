<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Retro Code Challenge - Web 1.0 (IE6)</title>
  <style>
    body {
      margin: 0;
      font-family: Tahoma, Arial, sans-serif;
      background: #c0c0c0;
      display: flex;
      height: 100vh;
    }
    .program, .editor {
      flex: 1;
      padding: 10px;
      box-sizing: border-box;
    }
    .program {
      border-right: 2px solid #000;
      display: flex;
      justify-content: center;
      align-items: flex-start;
    }

    /* --- Fake IE6 --- */
    .ie6 {
      border: 2px solid #000;
      width: 600px;
      margin-top: 20px;
      background: #fff;
      display: flex;
      flex-direction: column;
      box-shadow: 2px 2px #808080;
    }
    .ie6-title {
      background: linear-gradient(to right, #0055a5, #369);
      color: #fff;
      font-weight: bold;
      font-size: 14px;
      padding: 2px 8px;
    }
    .ie6-toolbar {
      background: #e0e0e0;
      display: flex;
      align-items: center;
      gap: 5px;
      padding: 3px;
      border-bottom: 1px solid #808080;
    }
    .ie6-toolbar button {
      background: #f0f0f0;
      border: 1px solid #808080;
      padding: 2px 6px;
      font-size: 12px;
      cursor: pointer;
    }
    .ie6-address {
      display: flex;
      align-items: center;
      padding: 2px;
      background: #dcdcdc;
      border-bottom: 1px solid #808080;
    }
    .ie6-address input {
      flex: 1;
      border: 1px inset #808080;
      padding: 2px;
      font-size: 12px;
    }
    .ie6-content {
      flex: 1;
      padding: 10px;
      font-size: 14px;
      overflow: auto;
    }
    .ie6-status {
      background: #dcdcdc;
      font-size: 11px;
      padding: 2px 5px;
      border-top: 1px solid #808080;
    }

    /* --- Editor (FrontPage style) --- */
    .editor-env {
      display: flex;
      flex-direction: column;
      height: 100%;
      border: 2px solid #000;
      background: #eaeaea;
    }
    .menubar {
      background: #d4d0c8;
      padding: 4px 8px;
      font-size: 12px;
      border-bottom: 1px solid #808080;
    }
    .toolbar {
      background: #f0f0f0;
      padding: 4px;
      display: flex;
      gap: 5px;
      border-bottom: 1px solid #808080;
    }
    .toolbar button {
      width: 24px;
      height: 24px;
      background: #fff;
      border: 1px solid #808080;
      font-size: 12px;
      cursor: pointer;
    }
    .tabs {
      background: #d4d0c8;
      padding: 3px;
      border-bottom: 1px solid #808080;
    }
    .tabs button {
      background: #c0c0c0;
      border: 1px solid #808080;
      margin-right: 2px;
      font-size: 12px;
      cursor: pointer;
    }
    .tab-content {
      flex: 1;
      display: none;
      padding: 10px;
      overflow: auto;
      background: #fff;
      font-size: 13px;
    }
    .tab-content.active {
      display: block;
    }
    textarea {
      width: 100%;
      height: 100%;
      font-family: monospace;
      font-size: 13px;
      border: none;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 10px;
    }
    td, th {
      border: 1px solid #000;
      padding: 4px;
    }
  </style>
</head>
<body>
  <!-- IE6 fakad browser (left) -->
  <div class="program">
    <div class="ie6">
      <div class="ie6-title">Invoice - Microsoft Internet Explorer</div>
      <div class="ie6-toolbar">
        <button>‚Üê</button>
        <button>‚Üí</button>
        <button>‚ü≥</button>
        <button>‚õî</button>
        <button>üè†</button>
      </div>
      <div class="ie6-address">
        Address: <input type="text" value="http://www.hogia.se/faktura.html">
      </div>
      <div class="ie6-content" id="webOutput">
        <b>Laddar faktura...</b><br>
        <i>Fel: Ok√§nt JavaScript-problem</i>
      </div>
      <div class="ie6-status">Done</div>
    </div>
  </div>

  <!-- Editor (right) -->
  <div class="editor">
    <div class="editor-env">
      <div class="menubar">File  Edit  View  Insert  Format  Table  Tools  Help</div>
      <div class="toolbar">
        <button title="Save">üíæ</button>
        <button title="Preview">üåê</button>
        <button title="Cut">‚úÇ</button>
        <button title="Copy">üìÑ</button>
        <button title="Paste">üìã</button>
      </div>
      <div class="tabs">
        <button onclick="showTab('design')">[Design]</button>
        <button onclick="showTab('code')">[Code]</button>
      </div>

      <!-- DESIGN VIEW -->
      <div id="designTab" class="tab-content active">
        <h3>Faktura (Designvy)</h3>
        <table>
          <tr><th>Kund</th><td id="designName">DanielNilsson</td></tr>
          <tr><th>Kostnadsb√§rare</th><td>Konto1, Konto2</td></tr>
          <tr><th>Resultatenheter</th><td>AvdelningA, AvdelningB</td></tr>
          <tr><th>Projekt</th><td>ProjektX, ProjektY</td></tr>
        </table>
      </div>

      <!-- CODE VIEW -->
      <div id="codeTab" class="tab-content">
        <textarea id="code">
// Fixa buggen: det finns en array f√∂r mycket!
let kostnadsbarare = ["Konto1", "Konto2"];
let resultatenheter = ["AvdelningA", "AvdelningB"];
let projekt = ["ProjektX", "ProjektY"];
let extra = ["Felaktig array"]; // <- ska bort!

document.getElementById("webOutput").innerHTML =
  "<h3>Faktura</h3>" +
  "<p>Kund: DanielNilsson</p>" +
  "<p>Kostnadsb√§rare: " + kostnadsbarare.join(", ") + "</p>" +
  "<p>Resultatenheter: " + resultatenheter.join(", ") + "</p>" +
  "<p>Projekt: " + projekt.join(", ") + "</p>";
        </textarea>
        <button onclick="checkCode()">K√∂r sidan</button>
      </div>
    </div>
  </div>

  <script>
    function showTab(tab) {
      document.getElementById("designTab").classList.remove("active");
      document.getElementById("codeTab").classList.remove("active");
      if (tab === "design") {
        document.getElementById("designTab").classList.add("active");
      } else {
        document.getElementById("codeTab").classList.add("active");
      }
    }

    function checkCode() {
      let code = document.getElementById("code").value;
      if (!code.includes("extra")) {
        document.getElementById("webOutput").innerHTML =
          "<h3>Faktura</h3>" +
          "<p>Kund: Daniel Nilsson</p>" +
          "<p>Kostnadsb√§rare: Konto1, Konto2</p>" +
          "<p>Resultatenheter: AvdelningA, AvdelningB</p>" +
          "<p>Projekt: ProjektX, ProjektY</p>";
        document.getElementById("designName").innerText = "Daniel Nilsson";
      } else {
        document.getElementById("webOutput").innerHTML =
          "<b>Laddar faktura...</b><br><i>Fel: Ok√§nt JavaScript-problem</i>";
        document.getElementById("designName").innerText = "DanielNilsson";
      }
    }
  </script>
</body>
</html>
